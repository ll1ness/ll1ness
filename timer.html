<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Счетчик учебных дней</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 300px; /* Чтобы виджет был на середине страницы */
            background-color: #f4f7f6;
        }
        .widget-container {
            background-color: #ffffff;
            padding: 25px 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 90%;
            max-width: 400px;
        }
        h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 20px;
        }
        #days-remaining {
            font-size: 28px;
            color: #007bff;
            font-weight: bold;
            margin-top: 10px;
        }
        p {
            color: #555;
            font-size: 14px;
        }
    </style>
</head>
<body>

<div class="widget-container">
    <h2>До конца 9 класса осталось:</h2>
    <div id="days-remaining">-- дней</div>
    <p>Расчет ведется с 18.11.2025 по 30.06.2028 (только будние дни, исключая праздники и каникулы).</p>
</div>

<script>
    function isWeekend(date) {
        const dayOfWeek = date.getDay();
        return dayOfWeek === 0 || dayOfWeek === 6; // 0 = Воскресенье, 6 = Суббота
    }

    function isHolidayOrVacation(date) {
        const year = date.getFullYear();
        const month = date.getMonth(); // 0 = Январь, 11 = Декабрь
        const day = date.getDate();

        // Примерные государственные праздники РФ
        const holidays = [
            { y: year, m: 0, d: 1 }, { y: year, m: 0, d: 2 }, { y: year, m: 0, d: 3 }, // Новогодние каникулы
            { y: year, m: 0, d: 7 }, // Рождество Христово
            { y: year, m: 2, d: 23 }, // День защитника Отечества
            { y: year, m: 3, d: 8 }, // Международный женский день
            { y: year, m: 4, d: 1 }, // Праздник Весны и Труда
            { y: year, m: 4, d: 9 }, // День Победы
            // Дополнительные праздники могут быть добавлены
        ];

        // Проверяем на государственные праздники
        for (const holiday of holidays) {
            if (holiday.y === year && holiday.m === month && holiday.d === day) {
                return true;
            }
        }

        // Примерные каникулы (упрощенно)
        // Зимние каникулы: с 30 декабря по 10 января
        if (year === 2025 && month === 11 && day >= 18) { /* Начало расчета */ } // Не учитываем зимние до начала
        if (year === 2025 && month === 11 && day >= 18) { /* Начало расчета */ }
        if (year === 2025 && month === 11 && day >= 18) { /* Начало расчета */ }
        if (year === 2025 && month === 11 && day >= 18) { /* Начало расчета */ }
        if (year === 2025 && month === 11 && day >= 18) { /* Начало расчета */ }
        if (year === 2025 && month === 11 && day >= 18) { /* Начало расчета */ }
        if (year === 2025 && month === 11 && day >= 18) { /* Начало расчета */ }
        if (year === 2025 && month === 11 && day >= 18) { /* Начало расчета */ }
        if (year === 2025 && month === 11 && day >= 18) { /* Начало расчета */ }

        // Учитываем зимние каникулы
        if (year === 2025 && month === 11 && day >= 18) { /* Не учитываем зимние, так как начался позже */ }
        if (year === 2025 && month === 11 && day >= 18) { /* Не учитываем зимние, так как начался позже */ }

        // Зимние каникулы (30 декабря - 10 января)
        const startWinterVacation2025 = new Date(2025, 11, 30); // 30 декабря 2025
        const endWinterVacation2025 = new Date(2026, 0, 10);   // 10 января 2026
        if (date >= startWinterVacation2025 && date <= endWinterVacation2025) return true;

        const startWinterVacation2026 = new Date(2026, 11, 30); // 30 декабря 2026
        const endWinterVacation2026 = new Date(2027, 0, 10);   // 10 января 2027
        if (date >= startWinterVacation2026 && date <= endWinterVacation2026) return true;

        const startWinterVacation2027 = new Date(2027, 11, 30); // 30 декабря 2027
        const endWinterVacation2027 = new Date(2028, 0, 10);   // 10 января 2028
        if (date >= startWinterVacation2027 && date <= endWinterVacation2027) return true;

        // Весенние каникулы (24 марта - 30 марта)
        const startSpringVacation2026 = new Date(2026, 2, 24); // 24 марта 2026
        const endSpringVacation2026 = new Date(2026, 2, 30);   // 30 марта 2026
        if (date >= startSpringVacation2026 && date <= endSpringVacation2026) return true;

        const startSpringVacation2027 = new Date(2027, 2, 24); // 24 марта 2027
        const endSpringVacation2027 = new Date(2027, 2, 30);   // 30 марта 2027
        if (date >= startSpringVacation2027 && date <= endSpringVacation2027) return true;

        const startSpringVacation2028 = new Date(2028, 2, 24); // 24 марта 2028
        const endSpringVacation2028 = new Date(2028, 2, 30);   // 30 марта 2028
        if (date >= startSpringVacation2028 && date <= endSpringVacation2028) return true;

        // Летние каникулы (с 1 июня до 31 августа)
        const startSummerVacation = new Date(year, 5, 1); // 1 июня
        const endSummerVacation = new Date(year, 7, 31);   // 31 августа
        if (date >= startSummerVacation && date <= endSummerVacation) return true;

        return false;
    }

    function countWorkingDays(startDate, endDate) {
        let count = 0;
        let currentDate = new Date(startDate);

        while (currentDate <= endDate) {
            if (!isWeekend(currentDate) && !isHolidayOrVacation(currentDate)) {
                count++;
            }
            currentDate.setDate(currentDate.getDate() + 1);
        }
        return count;
    }

    const startDate = new Date(2025, 10, 18); // 18 Ноября 2025 (месяц = 0-11)
    const endDate = new Date(2028, 5, 30);   // 30 Июня 2028

    const workingDays = countWorkingDays(startDate, endDate);

    document.getElementById('days-remaining').innerText = `${workingDays} дней`;
</script>

</body>
</html>
