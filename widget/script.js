document.addEventListener('DOMContentLoaded', function() {

    const endDate = new Date('2028-05-31T23:59:59'); // Предполагаемая дата окончания учебного года (последний день мая)
    const startDate = new Date('2025-12-01T00:00:00'); // Предполагаемая дата начала текущего учебного года (1 сентября)

    // СПИСОК ВЫХОДНЫХ И ПРАЗДНИЧНЫХ ДНЕЙ (ВАЖНО: АДАПТИРУЙТЕ ЭТОТ СПИСОК!)
    // Укажите все выходные (субботы, воскресенья) и официальные праздники,
    // которые выпадают на учебные дни и не должны засчитываться.
    // Формат: 'YYYY-MM-DD'
    const holidays = [
        // Пример: Новый год
        '2024-01-01', '2024-01-02', '2024-01-03', '2024-01-04', '2024-01-05', '2024-01-06', '2024-01-07', '2024-01-08',
        '2025-01-01', '2025-01-02', '2025-01-03', '2025-01-04', '2025-01-05', '2025-01-06', '2025-01-07', '2025-01-08',
        '2026-01-01', '2026-01-02', '2026-01-03', '2026-01-04', '2026-01-05', '2026-01-06', '2026-01-07', '2026-01-08',
        '2027-01-01', '2027-01-02', '2027-01-03', '2027-01-04', '2027-01-05', '2027-01-06', '2027-01-07', '2027-01-08',
        '2028-01-01', '2028-01-02', '2028-01-03', '2028-01-04', '2028-01-05', '2028-01-06', '2028-01-07', '2028-01-08',
        // Пример: День защитника Отечества
        '2025-02-23',
        '2026-02-23',
        '2027-02-23',
        '2028-02-23',
        // Пример: Международный женский день
        '2025-03-08',
        '2026-03-08',
        '2027-03-08',
        '2028-03-08',
        // Пример: Праздник Весны и Труда
        '2025-05-01',
        '2026-05-01',
        '2027-05-01',
        '2028-05-01',
        // Пример: День Победы
        '2025-05-09',
        '2026-05-09',
        '2027-05-09',
        '2028-05-09',
        // Пример: День России (если актуально)
        // '2025-06-12',
        // '2026-06-12',
        // '2027-06-12',
        // '2028-06-12',
        // Пример: День народного единства (если актуально)
        // '2024-11-04',
        // '2025-11-04',
        // '2026-11-04',
        // '2027-11-04',
        // '2028-11-04',

        // Добавьте сюда все остальные праздники и переносы выходных дней,
        // которые могут повлиять на подсчет учебных дней.
        // Учитывайте, что некоторые праздники могут переноситься.
        // Лучше всего использовать официальный календарь учебного года.
    ];

    function isWeekend(date) {
        const dayOfWeek = date.getDay();
        return dayOfWeek === 0 || dayOfWeek === 6; // 0 - воскресенье, 6 - суббота
    }

    function isHoliday(date) {
        const dateString = date.toISOString().split('T')[0];
        return holidays.includes(dateString);
    }

    function countSchoolDays() {
        let schoolDays = 0;
        let currentDate = new Date(startDate); // Начинаем с даты старта

        while (currentDate <= endDate) {
            // Проверяем, что дата находится в текущем учебном году (если endDate раньше startDate)
            // или в следующих учебных годах до endDate.
            // Это нужно, если startDate и endDate охватывают несколько учебных годов.
            // Для простоты, будем считать от 1 сентября текущего года до конца 9 класса.
            // Если вы хотите считать от предыдущего учебного года, нужно будет корректировать startDate.

            if (currentDate >= startDate && !isWeekend(currentDate) && !isHoliday(currentDate)) {
                schoolDays++;
            }
            currentDate.setDate(currentDate.getDate() + 1);
        }
        return schoolDays;
    }

    const remainingSchoolDays = countSchoolDays();

    document.getElementById('days').innerText = remainingSchoolDays;

    // Обновление каждые 24 часа (не обязательно, т.к. дни не меняются каждую минуту)
    // setInterval(function() {
    //     const remainingSchoolDays = countSchoolDays();
    //     document.getElementById('days').innerText = remainingSchoolDays;
    // }, 24 * 60 * 60 * 1000); // 24 часа в миллисекундах
});
